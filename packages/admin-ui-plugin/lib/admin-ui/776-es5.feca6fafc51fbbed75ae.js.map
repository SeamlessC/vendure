{"version":3,"mappings":"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","names":["e","b","constructor","o","t","this","l","M","W","r","selectedMemberIds","indexOf","id","ngOnInit","membersCurrentPage$","route","paramMap","pipe","p","get","E","z","membersItemsPerPage$","filterTermControl","valueChanges","ee","te","setContentsPageNumber","K","refresh$","oe","destroy$","subscribe","n","a","c","fetchParamsChange","emit","filterTerm","skip","take","ngOnDestroy","next","complete","setParam","setContentsItemsPerPage","refresh","router","navigate","Object","snapshot","params","relativeTo","queryParamsHandling","areAllSelected","members","length","toggleSelectAll","selectionChange","map","toggleSelectMember","item","includes","filter","selectors","L","fetchGroupMembers$","g","_ref4","dataService","customer","getCustomerList","mapStream","customers","customers$","items","customersTotal$","totalItems","cancel","resolveWith","add","selectedCustomerIds","S","addressForm","changeDetector","markForCheck","save","I","value","dataDependenciesPopulated","Y","le","editAddress","ngOnChanges","customFields","availableCountries","getCountryName","find","code","name","setAsDefaultBillingAddress","setAsDefaultBilling","markAsDirty","setAsDefaultShippingAddress","setAsDefaultShipping","delete","deleteAddress","modalService","fromComponent","locals","size","closable","O","groups$","getCustomerGroupList","customerGroups","selectedGroupIds","y","oxw","updateNote","deleteNote","J","d","getDisplayType","type","getTimelineIcon","isFeatured","getName","administrator","firstName","lastName","addNoteToCustomer","addNote","note","F","u","h","super","Set","getCustomFieldConfig","addressCustomFields","detailForm","formBuilder","group","title","phoneNumber","emailAddress","password","reduce","f","X","addresses","init","availableCountries$","settings","getAvailableCountries","mapSingle","countries","Ge","entity$","s","Qe","apply","concat","orderListUpdates$","orders$","orders","ordersCount$","history$","fetchHistory","getCustomerHistory","sort","createdAt","history","destroy","getAddressFormControls","controls","setDefaultBillingAddressId","defaultBillingAddressId","addressDefaultsUpdated","setDefaultShippingAddressId","defaultShippingAddressId","toggleDeleteAddress","addressesToDeleteIds","has","addAddress","fullName","company","streetLine1","streetLine2","city","province","postalCode","countryCode","defaultShippingAddress","defaultBillingAddress","_step","_iterator","addControl","push","setOrderItemsPerPage","ordersPerPage","fetchOrdersList","setOrderCurrentPage","currentOrdersPage","create","createCustomer","__typename","notificationService","success","m","entity","notify","message","translationVars","duration","markAsPristine","error","$e","dirty","updateCustomer","_step2","deleteCustomerAddress","updateCustomerAddress","createCustomerAddress","we","_step3","getCustomer","single$","addToGroup","Me","Z","ke","addCustomersToGroup","customerCount","groupName","removeFromGroup","dialog","buttons","label","returnValue","removeCustomersFromGroup","displayPrivacyControls","data","updateCustomerNote","noteId","body","deleteCustomerNote","setFormValues","patchValue","_step4","_iterator4","Pe","country","_step5","_iterator5","fe","fo","Co","setControl","setCustomFieldFormValues","qe","T","serverConfigService","getCustomFieldsFor","form","_step6","_iterator6","P","refetchOnChannelChange","options","contains","searchTerm","listIsEmpty$","items$","activeGroup$","activeGroupId","refreshActiveGroupMembers$","_ref11","_ref11$","getCustomerGroupWithCustomers","customerGroup","_e","members$","membersTotal$","createCustomerGroup","customerIds","deleteCustomerGroup","result","errorMessage","update","updateCustomerGroup","closeMembers","contents","verticalAlign","eo","q","filterOperator","mo","deleteCustomer","D","updatedAt","user","factory","ɵfac","ge","path","component","pathMatch","breadcrumb","resolve","canDeactivate","he","breadcrumbKey","w","C"],"sources":["webpack:///src/lib/customer/src/components/customer-group-member-list/customer-group-member-list.component.html","webpack:///src/lib/customer/src/components/customer-group-member-list/customer-group-member-list.component.ts","webpack:///src/lib/customer/src/components/add-customer-to-group-dialog/add-customer-to-group-dialog.component.html","webpack:///src/lib/customer/src/components/add-customer-to-group-dialog/add-customer-to-group-dialog.component.ts","webpack:///src/lib/customer/src/components/address-detail-dialog/address-detail-dialog.component.html","webpack:///src/lib/customer/src/components/address-detail-dialog/address-detail-dialog.component.ts","webpack:///src/lib/customer/src/components/address-card/address-card.component.html","webpack:///src/lib/customer/src/components/address-card/address-card.component.ts","webpack:///src/lib/customer/src/components/select-customer-group-dialog/select-customer-group-dialog.component.html","webpack:///src/lib/customer/src/components/select-customer-group-dialog/select-customer-group-dialog.component.ts","webpack:///src/lib/customer/src/components/customer-status-label/customer-status-label.component.html","webpack:///src/lib/customer/src/components/customer-status-label/customer-status-label.component.ts","webpack:///src/lib/customer/src/components/customer-history/customer-history.component.html","webpack:///src/lib/customer/src/components/customer-history/customer-history.component.ts","webpack:///src/lib/customer/src/components/customer-detail/customer-detail.component.html","webpack:///src/lib/customer/src/components/customer-detail/customer-detail.component.ts","webpack:///node_modules/rxjs/_esm2015/internal/operators/merge.js","webpack:///src/lib/customer/src/components/customer-group-detail-dialog/customer-group-detail-dialog.component.html","webpack:///src/lib/customer/src/components/customer-group-detail-dialog/customer-group-detail-dialog.component.ts","webpack:///src/lib/customer/src/components/customer-group-list/customer-group-list.component.html","webpack:///src/lib/customer/src/components/customer-group-list/customer-group-list.component.ts","webpack:///src/lib/customer/src/components/customer-list/customer-list.component.html","webpack:///src/lib/customer/src/components/customer-list/customer-list.component.ts","webpack:///src/lib/customer/src/providers/routing/customer-resolver.ts","webpack:///src/lib/customer/src/customer.routes.ts","webpack:///src/lib/customer/src/customer.module.ts"],"sourcesContent":["<input\n    type=\"text\"\n    name=\"searchTerm\"\n    [formControl]=\"filterTermControl\"\n    [placeholder]=\"'customer.search-customers-by-email' | translate\"\n    class=\"search-input\"\n/>\n\n<vdr-data-table\n    [items]=\"members\"\n    [itemsPerPage]=\"membersItemsPerPage$ | async\"\n    [totalItems]=\"totalItems\"\n    [currentPage]=\"membersCurrentPage$ | async\"\n    (pageChange)=\"setContentsPageNumber($event)\"\n    (itemsPerPageChange)=\"setContentsItemsPerPage($event)\"\n    [allSelected]=\"areAllSelected()\"\n    [isRowSelectedFn]=\"('UpdateCustomerGroup' | hasPermission) && isMemberSelected\"\n    (rowSelectChange)=\"toggleSelectMember($event)\"\n    (allSelectChange)=\"toggleSelectAll()\"\n>\n    <vdr-dt-column [expand]=\"true\">{{ 'customer.name' | translate }}</vdr-dt-column>\n    <vdr-dt-column [expand]=\"true\">{{ 'customer.email-address' | translate }}</vdr-dt-column>\n    <vdr-dt-column></vdr-dt-column>\n    <ng-template let-customer=\"item\">\n        <td class=\"left align-middle\">\n            {{ customer.title }} {{ customer.firstName }} {{ customer.lastName }}\n        </td>\n        <td class=\"left align-middle\">{{ customer.emailAddress }}</td>\n        <td class=\"right align-middle\">\n            <vdr-table-row-action\n                iconShape=\"edit\"\n                [label]=\"'common.edit' | translate\"\n                [linkTo]=\"['/customer', 'customers', customer.id]\"\n            ></vdr-table-row-action>\n        </td>\n    </ng-template>\n</vdr-data-table>\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Input,\n    OnDestroy,\n    OnInit,\n    Output,\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Customer, DataService } from '@vendure/admin-ui/core';\nimport { BehaviorSubject, combineLatest, Observable, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map, startWith, takeUntil, tap } from 'rxjs/operators';\n\nexport interface CustomerGroupMemberFetchParams {\n    skip: number;\n    take: number;\n    filterTerm: string;\n}\n\ntype CustomerGroupMember = Pick<\n    Customer,\n    'id' | 'createdAt' | 'updatedAt' | 'title' | 'firstName' | 'lastName' | 'emailAddress'\n>;\n\n@Component({\n    selector: 'vdr-customer-group-member-list',\n    templateUrl: './customer-group-member-list.component.html',\n    styleUrls: ['./customer-group-member-list.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomerGroupMemberListComponent implements OnInit, OnDestroy {\n    @Input() members: CustomerGroupMember[];\n    @Input() totalItems: number;\n    @Input() route: ActivatedRoute;\n    @Input() selectedMemberIds: string[] = [];\n    @Output() selectionChange = new EventEmitter<string[]>();\n    @Output() fetchParamsChange = new EventEmitter<CustomerGroupMemberFetchParams>();\n\n    membersItemsPerPage$: Observable<number>;\n    membersCurrentPage$: Observable<number>;\n    filterTermControl = new FormControl('');\n    private refresh$ = new BehaviorSubject<boolean>(true);\n    private destroy$ = new Subject<void>();\n\n    constructor(private router: Router, private dataService: DataService) {}\n\n    ngOnInit() {\n        this.membersCurrentPage$ = this.route.paramMap.pipe(\n            map(qpm => qpm.get('membersPage')),\n            map(page => (!page ? 1 : +page)),\n            startWith(1),\n            distinctUntilChanged(),\n        );\n\n        this.membersItemsPerPage$ = this.route.paramMap.pipe(\n            map(qpm => qpm.get('membersPerPage')),\n            map(perPage => (!perPage ? 10 : +perPage)),\n            startWith(10),\n            distinctUntilChanged(),\n        );\n\n        const filterTerm$ = this.filterTermControl.valueChanges.pipe(\n            debounceTime(250),\n            tap(() => this.setContentsPageNumber(1)),\n            startWith(''),\n        );\n\n        combineLatest(this.membersCurrentPage$, this.membersItemsPerPage$, filterTerm$, this.refresh$)\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(([currentPage, itemsPerPage, filterTerm]) => {\n                const take = itemsPerPage;\n                const skip = (currentPage - 1) * itemsPerPage;\n                this.fetchParamsChange.emit({\n                    filterTerm,\n                    skip,\n                    take,\n                });\n            });\n    }\n\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n\n    setContentsPageNumber(page: number) {\n        this.setParam('membersPage', page);\n    }\n\n    setContentsItemsPerPage(perPage: number) {\n        this.setParam('membersPerPage', perPage);\n    }\n\n    refresh() {\n        this.refresh$.next(true);\n    }\n\n    private setParam(key: string, value: any) {\n        this.router.navigate(['./', { ...this.route.snapshot.params, [key]: value }], {\n            relativeTo: this.route,\n            queryParamsHandling: 'merge',\n        });\n    }\n\n    areAllSelected(): boolean {\n        if (this.members) {\n            return this.selectedMemberIds.length === this.members.length;\n        } else {\n            return false;\n        }\n    }\n\n    toggleSelectAll() {\n        if (this.areAllSelected()) {\n            this.selectionChange.emit([]);\n        } else {\n            this.selectionChange.emit(this.members.map(v => v.id));\n        }\n    }\n\n    toggleSelectMember({ item: member }: { item: { id: string } }) {\n        if (this.selectedMemberIds.includes(member.id)) {\n            this.selectionChange.emit(this.selectedMemberIds.filter(id => id !== member.id));\n        } else {\n            this.selectionChange.emit([...this.selectedMemberIds, member.id]);\n        }\n    }\n\n    isMemberSelected = (member: { id: string }): boolean => {\n        return -1 < this.selectedMemberIds.indexOf(member.id);\n    };\n}\n","<ng-template vdrDialogTitle>\n    {{ 'customer.add-customers-to-group-with-name' | translate: {groupName: group.name} }}\n</ng-template>\n\n<vdr-customer-group-member-list\n    [members]=\"customers$ | async\"\n    [totalItems]=\"customersTotal$ | async\"\n    [route]=\"route\"\n    [selectedMemberIds]=\"selectedCustomerIds\"\n    (fetchParamsChange)=\"fetchGroupMembers$.next($event)\"\n    (selectionChange)=\"selectedCustomerIds = $event\"\n>\n\n</vdr-customer-group-member-list>\n\n<ng-template vdrDialogButtons>\n    <button type=\"button\" class=\"btn\" (click)=\"cancel()\">{{ 'common.cancel' | translate }}</button>\n    <button type=\"submit\" (click)=\"add()\" [disabled]=\"!selectedCustomerIds.length\" class=\"btn btn-primary\">\n        {{ 'customer.add-customers-to-group-with-count' | translate: {count: selectedCustomerIds.length} }}\n    </button>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DataService, Dialog, GetCustomerGroups, GetCustomerList } from '@vendure/admin-ui/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\nimport { CustomerGroupMemberFetchParams } from '../customer-group-member-list/customer-group-member-list.component';\n\n@Component({\n    selector: 'vdr-add-customer-to-group-dialog',\n    templateUrl: './add-customer-to-group-dialog.component.html',\n    styleUrls: ['./add-customer-to-group-dialog.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AddCustomerToGroupDialogComponent implements Dialog<string[]>, OnInit {\n    resolveWith: (result?: string[]) => void;\n    group: GetCustomerGroups.Items;\n    route: ActivatedRoute;\n    selectedCustomerIds: string[] = [];\n    customers$: Observable<GetCustomerList.Items[]>;\n    customersTotal$: Observable<number>;\n    fetchGroupMembers$ = new BehaviorSubject<CustomerGroupMemberFetchParams>({\n        skip: 0,\n        take: 10,\n        filterTerm: '',\n    });\n\n    constructor(private dataService: DataService) {}\n\n    ngOnInit() {\n        const customerResult$ = this.fetchGroupMembers$.pipe(\n            switchMap(({ skip, take, filterTerm }) => {\n                return this.dataService.customer\n                    .getCustomerList(take, skip, filterTerm)\n                    .mapStream((res) => res.customers);\n            }),\n        );\n\n        this.customers$ = customerResult$.pipe(map((res) => res.items));\n        this.customersTotal$ = customerResult$.pipe(map((res) => res.totalItems));\n    }\n\n    cancel() {\n        this.resolveWith();\n    }\n\n    add() {\n        this.resolveWith(this.selectedCustomerIds);\n    }\n}\n","<ng-template vdrDialogTitle>\n    <span *ngIf=\"addressForm.get('streetLine1')?.value as streetLine1\">{{ streetLine1 }},</span>\n    <span *ngIf=\"addressForm.get('countryCode')?.value as countryCode\"> {{ countryCode }}</span>\n</ng-template>\n\n<vdr-address-form\n    [formGroup]=\"addressForm\"\n    [availableCountries]=\"availableCountries\"\n    [customFields]=\"customFields\"\n></vdr-address-form>\n\n<ng-template vdrDialogButtons>\n    <button type=\"button\" class=\"btn\" (click)=\"cancel()\">{{ 'common.cancel' | translate }}</button>\n    <button\n        type=\"submit\"\n        (click)=\"save()\"\n        [disabled]=\"!addressForm.valid || !addressForm.touched\"\n        class=\"btn btn-primary\"\n    >\n        {{ 'common.update' | translate }}\n    </button>\n</ng-template>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CustomFieldConfig, Dialog, GetAvailableCountries } from '@vendure/admin-ui/core';\n\n@Component({\n    selector: 'vdr-address-detail-dialog',\n    templateUrl: './address-detail-dialog.component.html',\n    styleUrls: ['./address-detail-dialog.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AddressDetailDialogComponent implements Dialog<FormGroup>, OnInit {\n    addressForm: FormGroup;\n    customFields: CustomFieldConfig;\n    availableCountries: GetAvailableCountries.Items[] = [];\n    resolveWith: (result?: FormGroup) => void;\n\n    constructor(private changeDetector: ChangeDetectorRef) {}\n\n    ngOnInit() {\n        this.addressForm.valueChanges.subscribe(() => this.changeDetector.markForCheck());\n    }\n\n    cancel() {\n        this.resolveWith();\n    }\n\n    save() {\n        this.resolveWith(this.addressForm);\n    }\n}\n","<div class=\"card\" *ngIf=\"addressForm.value as address\">\n    <div class=\"card-header\">\n        <div class=\"address-title\">\n            <span class=\"street-line\" *ngIf=\"address.streetLine1\">{{ address.streetLine1 }},</span>\n            {{ address.countryCode }}\n        </div>\n        <div class=\"default-controls\">\n            <vdr-chip class=\"is-default p8\" *ngIf=\"isDefaultShipping\">\n                <clr-icon shape=\"truck\"></clr-icon>\n                {{ 'customer.default-shipping-address' | translate }}\n            </vdr-chip>\n            <vdr-chip class=\"is-default p8\" *ngIf=\"isDefaultBilling\">\n                <clr-icon shape=\"credit-card\"></clr-icon>\n                {{ 'customer.default-billing-address' | translate }}\n            </vdr-chip>\n        </div>\n    </div>\n    <div class=\"card-block\">\n        <div class=\"card-text\">\n            <vdr-formatted-address [address]=\"address\"></vdr-formatted-address>\n        </div>\n    </div>\n    <div class=\"card-footer\">\n        <vdr-entity-info [entity]=\"address\"></vdr-entity-info>\n        <ng-container *ngIf=\"editable\">\n            <button class=\"btn btn-sm btn-link\" (click)=\"editAddress()\">\n                {{ 'common.edit' | translate }}\n            </button>\n            <vdr-dropdown>\n                <button type=\"button\" class=\"btn btn-sm btn-link\" vdrDropdownTrigger>\n                    {{ 'common.more' | translate }}\n                    <clr-icon shape=\"caret down\"></clr-icon>\n                </button>\n                <vdr-dropdown-menu>\n                    <button\n                        vdrDropdownItem\n                        class=\"button\"\n                        [disabled]=\"isDefaultShipping\"\n                        (click)=\"setAsDefaultShippingAddress()\"\n                    >\n                        {{ 'customer.set-as-default-shipping-address' | translate }}\n                    </button>\n                    <button\n                        vdrDropdownItem\n                        class=\"button\"\n                        [disabled]=\"isDefaultBilling\"\n                        (click)=\"setAsDefaultBillingAddress()\"\n                    >\n                        {{ 'customer.set-as-default-billing-address' | translate }}\n                    </button>\n                    <div class=\"dropdown-divider\"></div>\n                    <button\n                        type=\"button\"\n                        class=\"delete-button\"\n                        (click)=\"delete()\"\n                        vdrDropdownItem\n                    >\n                        <clr-icon shape=\"trash\" class=\"is-danger\"></clr-icon>\n                        {{ 'common.delete' | translate }}\n                    </button>\n                </vdr-dropdown-menu>\n            </vdr-dropdown>\n        </ng-container>\n    </div>\n</div>\n","import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Input,\n    OnChanges,\n    OnInit,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { CustomFieldConfig, GetAvailableCountries, ModalService } from '@vendure/admin-ui/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\n\nimport { AddressDetailDialogComponent } from '../address-detail-dialog/address-detail-dialog.component';\n\n@Component({\n    selector: 'vdr-address-card',\n    templateUrl: './address-card.component.html',\n    styleUrls: ['./address-card.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AddressCardComponent implements OnInit, OnChanges {\n    @Input() addressForm: FormGroup;\n    @Input() customFields: CustomFieldConfig;\n    @Input() availableCountries: GetAvailableCountries.Items[] = [];\n    @Input() isDefaultBilling: string;\n    @Input() isDefaultShipping: string;\n    @Input() editable = true;\n    @Output() setAsDefaultShipping = new EventEmitter<string>();\n    @Output() setAsDefaultBilling = new EventEmitter<string>();\n    @Output() deleteAddress = new EventEmitter<string>();\n    private dataDependenciesPopulated = new BehaviorSubject<boolean>(false);\n\n    constructor(private modalService: ModalService, private changeDetector: ChangeDetectorRef) {}\n\n    ngOnInit(): void {\n        const streetLine1 = this.addressForm.get('streetLine1') as FormControl;\n        // Make the address dialog display automatically if there is no address line\n        // as is the case when adding a new address.\n        if (!streetLine1.value) {\n            this.dataDependenciesPopulated\n                .pipe(\n                    filter(value => value),\n                    take(1),\n                )\n                .subscribe(() => {\n                    this.editAddress();\n                });\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (this.customFields != null && this.availableCountries != null) {\n            this.dataDependenciesPopulated.next(true);\n        }\n    }\n\n    getCountryName(countryCode: string) {\n        if (!this.availableCountries) {\n            return '';\n        }\n        const match = this.availableCountries.find(c => c.code === countryCode);\n        return match ? match.name : '';\n    }\n\n    setAsDefaultBillingAddress() {\n        this.setAsDefaultBilling.emit(this.addressForm.value.id);\n        this.addressForm.markAsDirty();\n    }\n\n    setAsDefaultShippingAddress() {\n        this.setAsDefaultShipping.emit(this.addressForm.value.id);\n        this.addressForm.markAsDirty();\n    }\n\n    delete() {\n        this.deleteAddress.emit(this.addressForm.value.id);\n        this.addressForm.markAsDirty();\n    }\n\n    editAddress() {\n        this.modalService\n            .fromComponent(AddressDetailDialogComponent, {\n                locals: {\n                    addressForm: this.addressForm,\n                    customFields: this.customFields,\n                    availableCountries: this.availableCountries,\n                },\n                size: 'md',\n                closable: true,\n            })\n            .subscribe(() => {\n                this.changeDetector.markForCheck();\n            });\n    }\n}\n","<ng-template vdrDialogTitle>\n    {{ 'customer.add-customer-to-group' | translate }}\n</ng-template>\n\n<ng-select\n    [items]=\"groups$ | async\"\n    appendTo=\"body\"\n    [addTag]=\"false\"\n    [multiple]=\"true\"\n    bindValue=\"id\"\n    [(ngModel)]=\"selectedGroupIds\"\n    [clearable]=\"true\"\n    [searchable]=\"false\"\n>\n    <ng-template ng-label-tmp let-item=\"item\" let-clear=\"clear\">\n        <span aria-hidden=\"true\" class=\"ng-value-icon left\" (click)=\"clear(item)\"> × </span>\n        <vdr-chip [colorFrom]=\"item.id\">{{ item.name }}</vdr-chip>\n    </ng-template>\n    <ng-template ng-option-tmp let-item=\"item\">\n        <vdr-chip [colorFrom]=\"item.id\">{{ item.name }}</vdr-chip>\n    </ng-template>\n</ng-select>\n\n\n<ng-template vdrDialogButtons>\n    <button type=\"button\" class=\"btn\" (click)=\"cancel()\">{{ 'common.cancel' | translate }}</button>\n    <button type=\"submit\" (click)=\"add()\" [disabled]=\"!selectedGroupIds.length\" class=\"btn btn-primary\">\n        {{ 'customer.add-customer-to-groups-with-count' | translate: {count: selectedGroupIds.length} }}\n    </button>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DataService, Dialog, GetCustomerGroups, GetCustomerList } from '@vendure/admin-ui/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\n@Component({\n    selector: 'vdr-select-customer-group-dialog',\n    templateUrl: './select-customer-group-dialog.component.html',\n    styleUrls: ['./select-customer-group-dialog.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SelectCustomerGroupDialogComponent implements Dialog<string[]>, OnInit {\n    resolveWith: (result?: string[]) => void;\n    groups$: Observable<GetCustomerGroups.Items[]>;\n    selectedGroupIds: string[] = [];\n\n    constructor(private dataService: DataService) {}\n\n    ngOnInit() {\n        this.groups$ = this.dataService.customer\n            .getCustomerGroupList()\n            .mapStream((res) => res.customerGroups.items);\n    }\n\n    cancel() {\n        this.resolveWith();\n    }\n\n    add() {\n        this.resolveWith(this.selectedGroupIds);\n    }\n}\n","<vdr-chip *ngIf=\"customer.user?.id\">\n    <ng-container *ngIf=\"customer.user?.verified\">\n        <clr-icon shape=\"check-circle\" class=\"verified-user-icon\"></clr-icon>\n        {{ 'customer.verified' | translate }}\n    </ng-container>\n    <ng-container *ngIf=\"!customer.user?.verified\">\n        <clr-icon shape=\"check-circle\" class=\"registered-user-icon\"></clr-icon>\n        {{ 'customer.registered' | translate }}\n    </ng-container>\n</vdr-chip>\n<vdr-chip *ngIf=\"!customer.user?.id\">{{ 'customer.guest' | translate }}</vdr-chip>\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\n\nimport { Customer } from '@vendure/admin-ui/core';\n\n@Component({\n    selector: 'vdr-customer-status-label',\n    templateUrl: './customer-status-label.component.html',\n    styleUrls: ['./customer-status-label.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomerStatusLabelComponent {\n    @Input() customer: Customer.Fragment;\n}\n","<h4>{{ 'customer.customer-history' | translate }}</h4>\n<div class=\"entry-list\">\n    <vdr-timeline-entry iconShape=\"note\" displayType=\"muted\" *vdrIfPermissions=\"'UpdateCustomer'\">\n        <div class=\"note-entry\">\n            <textarea [(ngModel)]=\"note\" name=\"note\" class=\"note\"></textarea>\n            <button class=\"btn btn-secondary\" [disabled]=\"!note\" (click)=\"addNoteToCustomer()\">\n                {{ 'order.add-note' | translate }}\n            </button>\n        </div>\n    </vdr-timeline-entry>\n    <vdr-timeline-entry\n        *ngFor=\"let entry of history\"\n        [displayType]=\"getDisplayType(entry)\"\n        [iconShape]=\"getTimelineIcon(entry)\"\n        [createdAt]=\"entry.createdAt\"\n        [name]=\"getName(entry)\"\n        [featured]=\"isFeatured(entry)\"\n    >\n        <ng-container [ngSwitch]=\"entry.type\">\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_REGISTERED\">\n                <div class=\"title\">\n                    {{ 'customer.history-customer-registered' | translate }}\n                </div>\n                <ng-container *ngIf=\"entry.data.strategy === 'native'; else namedStrategy\">\n                    {{ 'customer.history-using-native-auth-strategy' | translate }}\n                </ng-container>\n                <ng-template #namedStrategy>\n                    {{\n                    'customer.history-using-external-auth-strategy'\n                        | translate: { strategy: entry.data.strategy }\n                    }}\n                </ng-template>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_VERIFIED\">\n                <div class=\"title\">\n                    {{ 'customer.history-customer-verified' | translate }}\n                </div>\n                <ng-container *ngIf=\"entry.data.strategy === 'native'; else namedStrategy\">\n                    {{ 'customer.history-using-native-auth-strategy' | translate }}\n                </ng-container>\n                <ng-template #namedStrategy>\n                    {{\n                        'customer.history-using-external-auth-strategy'\n                            | translate: { strategy: entry.data.strategy }\n                    }}\n                </ng-template>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_DETAIL_UPDATED\">\n                <div class=\"flex\">\n                    {{ 'customer.history-customer-detail-updated' | translate }}\n                    <vdr-history-entry-detail>\n                        <vdr-object-tree [value]=\"entry.data.input\"></vdr-object-tree>\n                    </vdr-history-entry-detail>\n                </div>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_ADDED_TO_GROUP\">\n                {{\n                    'customer.history-customer-added-to-group'\n                        | translate: { groupName: entry.data.groupName }\n                }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_REMOVED_FROM_GROUP\">\n                {{\n                    'customer.history-customer-removed-from-group'\n                        | translate: { groupName: entry.data.groupName }\n                }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_ADDRESS_CREATED\">\n                {{ 'customer.history-customer-address-created' | translate }}\n                <div class=\"flex\">\n                    <div class=\"address-string\">{{ entry.data.address }}</div>\n                </div>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_ADDRESS_UPDATED\">\n                {{ 'customer.history-customer-address-updated' | translate }}\n                <div class=\"flex\">\n                    <div class=\"address-string\">{{ entry.data.address }}</div>\n                    <vdr-history-entry-detail>\n                        <vdr-object-tree [value]=\"entry.data.input\"></vdr-object-tree>\n                    </vdr-history-entry-detail>\n                </div>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_ADDRESS_DELETED\">\n                {{ 'customer.history-customer-address-deleted' | translate }}\n                <div class=\"address-string\">{{ entry.data.address }}</div>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_PASSWORD_UPDATED\">\n                {{ 'customer.history-customer-password-updated' | translate }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_PASSWORD_RESET_REQUESTED\">\n                {{ 'customer.history-customer-password-reset-requested' | translate }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_PASSWORD_RESET_VERIFIED\">\n                {{ 'customer.history-customer-password-reset-verified' | translate }}\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_EMAIL_UPDATE_REQUESTED\">\n                <div class=\"flex\">\n                    {{ 'customer.history-customer-email-update-requested' | translate }}\n                    <vdr-history-entry-detail>\n                        <vdr-labeled-data [label]=\"'customer.old-email-address' | translate\">{{\n                            entry.data.oldEmailAddress\n                        }}</vdr-labeled-data>\n                        <vdr-labeled-data [label]=\"'customer.new-email-address' | translate\">{{\n                            entry.data.newEmailAddress\n                        }}</vdr-labeled-data>\n                    </vdr-history-entry-detail>\n                </div>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_EMAIL_UPDATE_VERIFIED\">\n                <div class=\"flex\">\n                    {{ 'customer.history-customer-email-update-verified' | translate }}\n                    <vdr-history-entry-detail>\n                        <vdr-labeled-data [label]=\"'customer.old-email-address' | translate\">{{\n                            entry.data.oldEmailAddress\n                        }}</vdr-labeled-data>\n                        <vdr-labeled-data [label]=\"'customer.new-email-address' | translate\">{{\n                            entry.data.newEmailAddress\n                        }}</vdr-labeled-data>\n                    </vdr-history-entry-detail>\n                </div>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"type.CUSTOMER_NOTE\">\n                <div class=\"flex\">\n                    <div class=\"note-text\">\n                        {{ entry.data.note }}\n                    </div>\n                    <div class=\"flex-spacer\"></div>\n                    <vdr-dropdown>\n                        <button class=\"icon-button\" vdrDropdownTrigger>\n                            <clr-icon shape=\"ellipsis-vertical\"></clr-icon>\n                        </button>\n                        <vdr-dropdown-menu vdrPosition=\"bottom-right\">\n                            <button\n                                class=\"button\"\n                                vdrDropdownItem\n                                (click)=\"updateNote.emit(entry)\"\n                                [disabled]=\"!('UpdateCustomer' | hasPermission)\"\n                            >\n                                <clr-icon shape=\"edit\"></clr-icon>\n                                {{ 'common.edit' | translate }}\n                            </button>\n                            <div class=\"dropdown-divider\"></div>\n                            <button\n                                class=\"button\"\n                                vdrDropdownItem\n                                (click)=\"deleteNote.emit(entry)\"\n                                [disabled]=\"!('UpdateCustomer' | hasPermission)\"\n                            >\n                                <clr-icon shape=\"trash\" class=\"is-danger\"></clr-icon>\n                                {{ 'common.delete' | translate }}\n                            </button>\n                        </vdr-dropdown-menu>\n                    </vdr-dropdown>\n                </div>\n            </ng-container>\n        </ng-container>\n    </vdr-timeline-entry>\n    <vdr-timeline-entry [isLast]=\"true\"></vdr-timeline-entry>\n</div>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n    Customer,\n    GetCustomerHistory,\n    HistoryEntry,\n    HistoryEntryType,\n    TimelineDisplayType,\n} from '@vendure/admin-ui/core';\n\n@Component({\n    selector: 'vdr-customer-history',\n    templateUrl: './customer-history.component.html',\n    styleUrls: ['./customer-history.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomerHistoryComponent {\n    @Input() customer: Customer.Fragment;\n    @Input() history: GetCustomerHistory.Items[];\n    @Output() addNote = new EventEmitter<{ note: string }>();\n    @Output() updateNote = new EventEmitter<HistoryEntry>();\n    @Output() deleteNote = new EventEmitter<HistoryEntry>();\n    note = '';\n    readonly type = HistoryEntryType;\n\n    getDisplayType(entry: GetCustomerHistory.Items): TimelineDisplayType {\n        switch (entry.type) {\n            case HistoryEntryType.CUSTOMER_VERIFIED:\n            case HistoryEntryType.CUSTOMER_EMAIL_UPDATE_VERIFIED:\n            case HistoryEntryType.CUSTOMER_PASSWORD_RESET_VERIFIED:\n                return 'success';\n            case HistoryEntryType.CUSTOMER_REGISTERED:\n                return 'muted';\n            case HistoryEntryType.CUSTOMER_REMOVED_FROM_GROUP:\n                return 'error';\n            default:\n                return 'default';\n        }\n    }\n\n    getTimelineIcon(entry: GetCustomerHistory.Items): string | [string, string] | undefined {\n        switch (entry.type) {\n            case HistoryEntryType.CUSTOMER_REGISTERED:\n                return 'user';\n            case HistoryEntryType.CUSTOMER_VERIFIED:\n                return ['assign-user', 'is-solid'];\n            case HistoryEntryType.CUSTOMER_NOTE:\n                return 'note';\n            case HistoryEntryType.CUSTOMER_ADDED_TO_GROUP:\n            case HistoryEntryType.CUSTOMER_REMOVED_FROM_GROUP:\n                return 'users';\n        }\n    }\n\n    isFeatured(entry: GetCustomerHistory.Items): boolean {\n        switch (entry.type) {\n            case HistoryEntryType.CUSTOMER_REGISTERED:\n            case HistoryEntryType.CUSTOMER_VERIFIED:\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    getName(entry: GetCustomerHistory.Items): string {\n        const { administrator } = entry;\n        if (administrator) {\n            return `${administrator.firstName} ${administrator.lastName}`;\n        } else {\n            return `${this.customer.firstName} ${this.customer.lastName}`;\n        }\n    }\n\n    addNoteToCustomer() {\n        this.addNote.emit({ note: this.note });\n        this.note = '';\n    }\n}\n","<vdr-action-bar>\n    <vdr-ab-left>\n        <div class=\"flex clr-align-items-center\">\n            <vdr-entity-info [entity]=\"entity$ | async\"></vdr-entity-info>\n            <vdr-customer-status-label [customer]=\"entity$ | async\"></vdr-customer-status-label>\n            <div\n                class=\"last-login\"\n                *ngIf=\"(entity$ | async)?.user?.lastLogin as lastLogin\"\n                [title]=\"lastLogin | localeDate: 'medium'\"\n            >\n                {{ 'customer.last-login' | translate }}: {{ lastLogin | timeAgo }}\n            </div>\n        </div>\n    </vdr-ab-left>\n\n    <vdr-ab-right>\n        <vdr-action-bar-items locationId=\"customer-detail\"></vdr-action-bar-items>\n        <button\n            class=\"btn btn-primary\"\n            *ngIf=\"isNew$ | async; else updateButton\"\n            (click)=\"create()\"\n            [disabled]=\"!(addressDefaultsUpdated || (detailForm.valid && detailForm.dirty))\"\n        >\n            {{ 'common.create' | translate }}\n        </button>\n        <ng-template #updateButton>\n            <button\n                *vdrIfPermissions=\"'UpdateCustomer'\"\n                class=\"btn btn-primary\"\n                (click)=\"save()\"\n                [disabled]=\"!(addressDefaultsUpdated || (detailForm.valid && detailForm.dirty))\"\n            >\n                {{ 'common.update' | translate }}\n            </button>\n        </ng-template>\n    </vdr-ab-right>\n</vdr-action-bar>\n\n<form class=\"form\" [formGroup]=\"detailForm.get('customer')\">\n    <vdr-form-field [label]=\"'customer.title' | translate\" for=\"title\" [readOnlyToggle]=\"!(isNew$ | async)\">\n        <input id=\"title\" type=\"text\" formControlName=\"title\" />\n    </vdr-form-field>\n    <vdr-form-field\n        [label]=\"'customer.first-name' | translate\"\n        for=\"firstName\"\n        [readOnlyToggle]=\"!(isNew$ | async)\"\n    >\n        <input id=\"firstName\" type=\"text\" formControlName=\"firstName\" />\n    </vdr-form-field>\n    <vdr-form-field\n        [label]=\"'customer.last-name' | translate\"\n        for=\"lastName\"\n        [readOnlyToggle]=\"!(isNew$ | async)\"\n    >\n        <input id=\"lastName\" type=\"text\" formControlName=\"lastName\" />\n    </vdr-form-field>\n    <vdr-form-field\n        [label]=\"'customer.email-address' | translate\"\n        for=\"emailAddress\"\n        [readOnlyToggle]=\"!(isNew$ | async)\"\n    >\n        <input id=\"emailAddress\" type=\"text\" formControlName=\"emailAddress\" />\n    </vdr-form-field>\n    <vdr-form-field\n        [label]=\"'customer.phone-number' | translate\"\n        for=\"phoneNumber\"\n        [readOnlyToggle]=\"!(isNew$ | async)\"\n    >\n        <input id=\"phoneNumber\" type=\"text\" formControlName=\"phoneNumber\" />\n    </vdr-form-field>\n    <vdr-form-field [label]=\"'customer.password' | translate\" for=\"password\" *ngIf=\"isNew$ | async\">\n        <input id=\"password\" type=\"password\" formControlName=\"password\" />\n    </vdr-form-field>\n\n    <section formGroupName=\"customFields\" *ngIf=\"customFields.length\">\n        <label>{{ 'common.custom-fields' | translate }}</label>\n        <vdr-tabbed-custom-fields\n            entityName=\"Customer\"\n            [customFields]=\"customFields\"\n            [customFieldsFormGroup]=\"detailForm.get(['customer', 'customFields'])\"\n        ></vdr-tabbed-custom-fields>\n    </section>\n    <vdr-custom-detail-component-host\n        locationId=\"customer-detail\"\n        [entity$]=\"entity$\"\n        [detailForm]=\"detailForm\"\n    ></vdr-custom-detail-component-host>\n</form>\n\n<div class=\"groups\" *ngIf=\"(entity$ | async)?.groups as groups\">\n    <label class=\"clr-control-label\">{{ 'customer.customer-groups' | translate }}</label>\n    <ng-container *ngIf=\"groups.length; else noGroups\">\n        <vdr-chip\n            *ngFor=\"let group of groups\"\n            [colorFrom]=\"group.id\"\n            icon=\"times\"\n            (iconClick)=\"removeFromGroup(group)\"\n            >{{ group.name }}</vdr-chip\n        >\n    </ng-container>\n    <ng-template #noGroups>\n        {{ 'customer.not-a-member-of-any-groups' | translate }}\n    </ng-template>\n    <div>\n        <button\n            class=\"btn btn-sm btn-secondary\"\n            (click)=\"addToGroup()\"\n            *vdrIfPermissions=\"'UpdateCustomerGroup'\"\n        >\n            <clr-icon shape=\"plus\"></clr-icon>\n            {{ 'customer.add-customer-to-group' | translate }}\n        </button>\n    </div>\n</div>\n\n<div class=\"clr-row\" *ngIf=\"!(isNew$ | async)\">\n    <div class=\"clr-col-md-4\">\n        <h3>{{ 'customer.addresses' | translate }}</h3>\n        <vdr-address-card\n            *ngFor=\"let addressForm of getAddressFormControls()\"\n            [class.to-delete]=\"addressesToDeleteIds.has(addressForm.value.id)\"\n            [availableCountries]=\"availableCountries$ | async\"\n            [isDefaultBilling]=\"defaultBillingAddressId === addressForm.value.id\"\n            [isDefaultShipping]=\"defaultShippingAddressId === addressForm.value.id\"\n            [addressForm]=\"addressForm\"\n            [customFields]=\"addressCustomFields\"\n            [editable]=\"(['UpdateCustomer'] | hasPermission) && !addressesToDeleteIds.has(addressForm.value.id)\"\n            (setAsDefaultBilling)=\"setDefaultBillingAddressId($event)\"\n            (setAsDefaultShipping)=\"setDefaultShippingAddressId($event)\"\n            (deleteAddress)=\"toggleDeleteAddress($event)\"\n        ></vdr-address-card>\n        <button class=\"btn btn-secondary\" (click)=\"addAddress()\" *vdrIfPermissions=\"'UpdateCustomer'\">\n            <clr-icon shape=\"plus\"></clr-icon>\n            {{ 'customer.create-new-address' | translate }}\n        </button>\n    </div>\n    <div class=\"clr-col-md-8\">\n        <h3>{{ 'customer.orders' | translate }}</h3>\n        <vdr-data-table\n            [items]=\"orders$ | async\"\n            [itemsPerPage]=\"ordersPerPage\"\n            [totalItems]=\"ordersCount$ | async\"\n            [currentPage]=\"currentOrdersPage\"\n            [emptyStateLabel]=\"'customer.no-orders-placed' | translate\"\n            (itemsPerPageChange)=\"setOrderItemsPerPage($event)\"\n            (pageChange)=\"setOrderCurrentPage($event)\"\n        >\n            <vdr-dt-column>{{ 'common.code' | translate }}</vdr-dt-column>\n            <vdr-dt-column>{{ 'order.state' | translate }}</vdr-dt-column>\n            <vdr-dt-column>{{ 'order.total' | translate }}</vdr-dt-column>\n            <vdr-dt-column>{{ 'common.updated-at' | translate }}</vdr-dt-column>\n            <vdr-dt-column></vdr-dt-column>\n            <ng-template let-order=\"item\">\n                <td class=\"left\">{{ order.code }}</td>\n                <td class=\"left\">{{ order.state }}</td>\n                <td class=\"left\">{{ order.totalWithTax | localeCurrency: order.currencyCode }}</td>\n                <td class=\"left\">{{ order.updatedAt | localeDate: 'medium' }}</td>\n                <td class=\"right\">\n                    <vdr-table-row-action\n                        iconShape=\"shopping-cart\"\n                        [label]=\"'common.open' | translate\"\n                        [linkTo]=\"['/orders/', order.id]\"\n                    ></vdr-table-row-action>\n                </td>\n            </ng-template>\n        </vdr-data-table>\n    </div>\n</div>\n<div class=\"clr-row\" *ngIf=\"!(isNew$ | async)\">\n    <div class=\"clr-col-md-6\">\n        <vdr-customer-history\n            [customer]=\"entity$ | async\"\n            [history]=\"history$ | async\"\n            (addNote)=\"addNoteToCustomer($event)\"\n            (updateNote)=\"updateNote($event)\"\n            (deleteNote)=\"deleteNote($event)\"\n        ></vdr-customer-history>\n    </div>\n</div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\nimport {\n    BaseDetailComponent,\n    CreateAddressInput,\n    CreateCustomerAddress,\n    CreateCustomerAddressMutation,\n    CreateCustomerInput,\n    Customer,\n    CustomFieldConfig,\n    DataService,\n    DeleteCustomerAddress,\n    EditNoteDialogComponent,\n    GetAvailableCountries,\n    GetCustomer,\n    GetCustomerHistory,\n    GetCustomerQuery,\n    HistoryEntry,\n    ModalService,\n    NotificationService,\n    ServerConfigService,\n    SortOrder,\n    UpdateCustomer,\n    UpdateCustomerAddress,\n    UpdateCustomerAddressMutation,\n    UpdateCustomerInput,\n    UpdateCustomerMutation,\n} from '@vendure/admin-ui/core';\nimport { assertNever, notNullOrUndefined } from '@vendure/common/lib/shared-utils';\nimport { EMPTY, forkJoin, from, Observable, Subject } from 'rxjs';\nimport {\n    concatMap,\n    filter,\n    map,\n    merge,\n    mergeMap,\n    shareReplay,\n    startWith,\n    switchMap,\n    take,\n} from 'rxjs/operators';\n\nimport { SelectCustomerGroupDialogComponent } from '../select-customer-group-dialog/select-customer-group-dialog.component';\n\ntype CustomerWithOrders = NonNullable<GetCustomerQuery['customer']>;\n\n@Component({\n    selector: 'vdr-customer-detail',\n    templateUrl: './customer-detail.component.html',\n    styleUrls: ['./customer-detail.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomerDetailComponent\n    extends BaseDetailComponent<CustomerWithOrders>\n    implements OnInit, OnDestroy\n{\n    detailForm: FormGroup;\n    customFields: CustomFieldConfig[];\n    addressCustomFields: CustomFieldConfig[];\n    availableCountries$: Observable<GetAvailableCountries.Items[]>;\n    orders$: Observable<GetCustomer.Items[]>;\n    ordersCount$: Observable<number>;\n    history$: Observable<GetCustomerHistory.Items[] | undefined>;\n    fetchHistory = new Subject<void>();\n    defaultShippingAddressId: string;\n    defaultBillingAddressId: string;\n    addressesToDeleteIds = new Set<string>();\n    addressDefaultsUpdated = false;\n    ordersPerPage = 10;\n    currentOrdersPage = 1;\n    private orderListUpdates$ = new Subject<CustomerWithOrders>();\n\n    constructor(\n        route: ActivatedRoute,\n        router: Router,\n        serverConfigService: ServerConfigService,\n        private changeDetector: ChangeDetectorRef,\n        private formBuilder: FormBuilder,\n        protected dataService: DataService,\n        private modalService: ModalService,\n        private notificationService: NotificationService,\n    ) {\n        super(route, router, serverConfigService, dataService);\n\n        this.customFields = this.getCustomFieldConfig('Customer');\n        this.addressCustomFields = this.getCustomFieldConfig('Address');\n        this.detailForm = this.formBuilder.group({\n            customer: this.formBuilder.group({\n                title: '',\n                firstName: ['', Validators.required],\n                lastName: ['', Validators.required],\n                phoneNumber: '',\n                emailAddress: ['', [Validators.required, Validators.email]],\n                password: '',\n                customFields: this.formBuilder.group(\n                    this.customFields.reduce((hash, field) => ({ ...hash, [field.name]: '' }), {}),\n                ),\n            }),\n            addresses: new FormArray([]),\n        });\n    }\n\n    ngOnInit() {\n        this.init();\n        this.availableCountries$ = this.dataService.settings\n            .getAvailableCountries()\n            .mapSingle(result => result.countries.items)\n            .pipe(shareReplay(1));\n\n        const customerWithUpdates$ = this.entity$.pipe(merge(this.orderListUpdates$));\n        this.orders$ = customerWithUpdates$.pipe(map(customer => customer.orders.items));\n        this.ordersCount$ = this.entity$.pipe(map(customer => customer.orders.totalItems));\n        this.history$ = this.fetchHistory.pipe(\n            startWith(null),\n            switchMap(() => {\n                return this.dataService.customer\n                    .getCustomerHistory(this.id, {\n                        sort: {\n                            createdAt: SortOrder.DESC,\n                        },\n                    })\n                    .mapStream(data => data.customer?.history.items);\n            }),\n        );\n    }\n\n    ngOnDestroy() {\n        this.destroy();\n        this.orderListUpdates$.complete();\n    }\n\n    getAddressFormControls(): FormControl[] {\n        const formArray = this.detailForm.get(['addresses']) as FormArray;\n        return formArray.controls as FormControl[];\n    }\n\n    setDefaultBillingAddressId(id: string) {\n        this.defaultBillingAddressId = id;\n        this.addressDefaultsUpdated = true;\n    }\n\n    setDefaultShippingAddressId(id: string) {\n        this.defaultShippingAddressId = id;\n        this.addressDefaultsUpdated = true;\n    }\n\n    toggleDeleteAddress(id: string) {\n        if (this.addressesToDeleteIds.has(id)) {\n            this.addressesToDeleteIds.delete(id);\n        } else {\n            this.addressesToDeleteIds.add(id);\n        }\n    }\n\n    addAddress() {\n        const addressFormArray = this.detailForm.get('addresses') as FormArray;\n        const newAddress = this.formBuilder.group({\n            fullName: '',\n            company: '',\n            streetLine1: ['', Validators.required],\n            streetLine2: '',\n            city: '',\n            province: '',\n            postalCode: '',\n            countryCode: ['', Validators.required],\n            phoneNumber: '',\n            defaultShippingAddress: false,\n            defaultBillingAddress: false,\n        });\n        if (this.addressCustomFields.length) {\n            const customFieldsGroup = this.formBuilder.group({});\n            for (const fieldDef of this.addressCustomFields) {\n                customFieldsGroup.addControl(fieldDef.name, new FormControl(''));\n            }\n            newAddress.addControl('customFields', customFieldsGroup);\n        }\n        addressFormArray.push(newAddress);\n    }\n\n    setOrderItemsPerPage(itemsPerPage: number) {\n        this.ordersPerPage = +itemsPerPage;\n        this.fetchOrdersList();\n    }\n\n    setOrderCurrentPage(page: number) {\n        this.currentOrdersPage = +page;\n        this.fetchOrdersList();\n    }\n\n    create() {\n        const customerForm = this.detailForm.get('customer');\n        if (!customerForm) {\n            return;\n        }\n        const formValue = customerForm.value;\n        const customFields = customerForm.get('customFields')?.value;\n        const customer: CreateCustomerInput = {\n            title: formValue.title,\n            emailAddress: formValue.emailAddress,\n            firstName: formValue.firstName,\n            lastName: formValue.lastName,\n            phoneNumber: formValue.phoneNumber,\n            customFields,\n        };\n        this.dataService.customer\n            .createCustomer(customer, formValue.password)\n            .subscribe(({ createCustomer }) => {\n                switch (createCustomer.__typename) {\n                    case 'Customer':\n                        this.notificationService.success(_('common.notify-create-success'), {\n                            entity: 'Customer',\n                        });\n                        if (createCustomer.emailAddress && !formValue.password) {\n                            this.notificationService.notify({\n                                message: _('customer.email-verification-sent'),\n                                translationVars: { emailAddress: formValue.emailAddress },\n                                type: 'info',\n                                duration: 10000,\n                            });\n                        }\n                        this.detailForm.markAsPristine();\n                        this.addressDefaultsUpdated = false;\n                        this.changeDetector.markForCheck();\n                        this.router.navigate(['../', createCustomer.id], { relativeTo: this.route });\n                        break;\n                    case 'EmailAddressConflictError':\n                        this.notificationService.error(createCustomer.message);\n                }\n            });\n    }\n\n    save() {\n        this.entity$\n            .pipe(\n                take(1),\n                mergeMap(({ id }) => {\n                    const saveOperations: Array<\n                        Observable<\n                            | UpdateCustomer.UpdateCustomer\n                            | CreateCustomerAddress.CreateCustomerAddress\n                            | UpdateCustomerAddress.UpdateCustomerAddress\n                            | DeleteCustomerAddress.DeleteCustomerAddress\n                        >\n                    > = [];\n                    const customerForm = this.detailForm.get('customer');\n                    if (customerForm && customerForm.dirty) {\n                        const formValue = customerForm.value;\n                        const customFields = customerForm.get('customFields')?.value;\n                        const customer: UpdateCustomerInput = {\n                            id,\n                            title: formValue.title,\n                            emailAddress: formValue.emailAddress,\n                            firstName: formValue.firstName,\n                            lastName: formValue.lastName,\n                            phoneNumber: formValue.phoneNumber,\n                            customFields,\n                        };\n                        saveOperations.push(\n                            this.dataService.customer\n                                .updateCustomer(customer)\n                                .pipe(map(res => res.updateCustomer)),\n                        );\n                    }\n                    const addressFormArray = this.detailForm.get('addresses') as FormArray;\n                    if ((addressFormArray && addressFormArray.dirty) || this.addressDefaultsUpdated) {\n                        for (const addressControl of addressFormArray.controls) {\n                            if (addressControl.dirty || this.addressDefaultsUpdated) {\n                                const address = addressControl.value;\n                                const input: CreateAddressInput = {\n                                    fullName: address.fullName,\n                                    company: address.company,\n                                    streetLine1: address.streetLine1,\n                                    streetLine2: address.streetLine2,\n                                    city: address.city,\n                                    province: address.province,\n                                    postalCode: address.postalCode,\n                                    countryCode: address.countryCode,\n                                    phoneNumber: address.phoneNumber,\n                                    defaultShippingAddress: this.defaultShippingAddressId === address.id,\n                                    defaultBillingAddress: this.defaultBillingAddressId === address.id,\n                                    customFields: address.customFields,\n                                };\n                                if (!address.id) {\n                                    saveOperations.push(\n                                        this.dataService.customer\n                                            .createCustomerAddress(id, input)\n                                            .pipe(map(res => res.createCustomerAddress)),\n                                    );\n                                } else {\n                                    if (this.addressesToDeleteIds.has(address.id)) {\n                                        saveOperations.push(\n                                            this.dataService.customer\n                                                .deleteCustomerAddress(address.id)\n                                                .pipe(map(res => res.deleteCustomerAddress)),\n                                        );\n                                    } else {\n                                        saveOperations.push(\n                                            this.dataService.customer\n                                                .updateCustomerAddress({\n                                                    ...input,\n                                                    id: address.id,\n                                                })\n                                                .pipe(map(res => res.updateCustomerAddress)),\n                                        );\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    return forkJoin(saveOperations);\n                }),\n            )\n            .subscribe(\n                data => {\n                    let notified = false;\n                    for (const result of data) {\n                        switch (result.__typename) {\n                            case 'Customer':\n                            case 'Address':\n                            case 'Success':\n                                if (!notified) {\n                                    this.notificationService.success(_('common.notify-update-success'), {\n                                        entity: 'Customer',\n                                    });\n                                    notified = true;\n                                    this.detailForm.markAsPristine();\n                                    this.addressDefaultsUpdated = false;\n                                    this.changeDetector.markForCheck();\n                                    this.fetchHistory.next();\n                                    this.dataService.customer.getCustomer(this.id).single$.subscribe();\n                                }\n                                break;\n                            case 'EmailAddressConflictError':\n                                this.notificationService.error(result.message);\n                                break;\n                        }\n                    }\n                },\n                err => {\n                    this.notificationService.error(_('common.notify-update-error'), {\n                        entity: 'Customer',\n                    });\n                },\n            );\n    }\n\n    addToGroup() {\n        this.modalService\n            .fromComponent(SelectCustomerGroupDialogComponent, {\n                size: 'md',\n            })\n            .pipe(\n                switchMap(groupIds => (groupIds ? from(groupIds) : EMPTY)),\n                concatMap(groupId => this.dataService.customer.addCustomersToGroup(groupId, [this.id])),\n            )\n            .subscribe({\n                next: res => {\n                    this.notificationService.success(_(`customer.add-customers-to-group-success`), {\n                        customerCount: 1,\n                        groupName: res.addCustomersToGroup.name,\n                    });\n                },\n                complete: () => {\n                    this.dataService.customer.getCustomer(this.id, { take: 0 }).single$.subscribe();\n                    this.fetchHistory.next();\n                },\n            });\n    }\n\n    removeFromGroup(group: GetCustomer.Groups) {\n        this.modalService\n            .dialog({\n                title: _('customer.confirm-remove-customer-from-group'),\n                buttons: [\n                    { type: 'secondary', label: _('common.cancel') },\n                    { type: 'danger', label: _('common.delete'), returnValue: true },\n                ],\n            })\n            .pipe(\n                switchMap(response =>\n                    response\n                        ? this.dataService.customer.removeCustomersFromGroup(group.id, [this.id])\n                        : EMPTY,\n                ),\n                switchMap(() => this.dataService.customer.getCustomer(this.id, { take: 0 }).single$),\n            )\n            .subscribe(result => {\n                this.notificationService.success(_(`customer.remove-customers-from-group-success`), {\n                    customerCount: 1,\n                    groupName: group.name,\n                });\n                this.fetchHistory.next();\n            });\n    }\n\n    addNoteToCustomer({ note }: { note: string }) {\n        this.dataService.customer.addNoteToCustomer(this.id, note).subscribe(() => {\n            this.fetchHistory.next();\n            this.notificationService.success(_('common.notify-create-success'), {\n                entity: 'Note',\n            });\n        });\n    }\n\n    updateNote(entry: HistoryEntry) {\n        this.modalService\n            .fromComponent(EditNoteDialogComponent, {\n                closable: true,\n                locals: {\n                    displayPrivacyControls: false,\n                    note: entry.data.note,\n                },\n            })\n            .pipe(\n                switchMap(result => {\n                    if (result) {\n                        return this.dataService.customer.updateCustomerNote({\n                            noteId: entry.id,\n                            note: result.note,\n                        });\n                    } else {\n                        return EMPTY;\n                    }\n                }),\n            )\n            .subscribe(result => {\n                this.fetchHistory.next();\n                this.notificationService.success(_('common.notify-update-success'), {\n                    entity: 'Note',\n                });\n            });\n    }\n\n    deleteNote(entry: HistoryEntry) {\n        return this.modalService\n            .dialog({\n                title: _('common.confirm-delete-note'),\n                body: entry.data.note,\n                buttons: [\n                    { type: 'secondary', label: _('common.cancel') },\n                    { type: 'danger', label: _('common.delete'), returnValue: true },\n                ],\n            })\n            .pipe(switchMap(res => (res ? this.dataService.customer.deleteCustomerNote(entry.id) : EMPTY)))\n            .subscribe(() => {\n                this.fetchHistory.next();\n                this.notificationService.success(_('common.notify-delete-success'), {\n                    entity: 'Note',\n                });\n            });\n    }\n\n    protected setFormValues(entity: CustomerWithOrders): void {\n        const customerGroup = this.detailForm.get('customer');\n        if (customerGroup) {\n            customerGroup.patchValue({\n                title: entity.title,\n                firstName: entity.firstName,\n                lastName: entity.lastName,\n                phoneNumber: entity.phoneNumber,\n                emailAddress: entity.emailAddress,\n            });\n        }\n\n        if (entity.addresses) {\n            const addressesArray = new FormArray([]);\n            for (const address of entity.addresses) {\n                const { customFields, ...rest } = address as any;\n                const addressGroup = this.formBuilder.group({\n                    ...rest,\n                    countryCode: address.country.code,\n                });\n                addressesArray.push(addressGroup);\n                if (address.defaultShippingAddress) {\n                    this.defaultShippingAddressId = address.id;\n                }\n                if (address.defaultBillingAddress) {\n                    this.defaultBillingAddressId = address.id;\n                }\n\n                if (this.addressCustomFields.length) {\n                    const customFieldsGroup = this.formBuilder.group({});\n                    for (const fieldDef of this.addressCustomFields) {\n                        const key = fieldDef.name;\n                        const value = (address as any).customFields?.[key];\n                        const control = new FormControl(value);\n                        customFieldsGroup.addControl(key, control);\n                    }\n                    addressGroup.addControl('customFields', customFieldsGroup);\n                }\n            }\n            this.detailForm.setControl('addresses', addressesArray);\n        }\n\n        if (this.customFields.length) {\n            this.setCustomFieldFormValues(\n                this.customFields,\n                this.detailForm.get(['customer', 'customFields']),\n                entity,\n            );\n        }\n        this.changeDetector.markForCheck();\n    }\n\n    /**\n     * Refetch the customer with the current order list settings.\n     */\n    private fetchOrdersList() {\n        this.dataService.customer\n            .getCustomer(this.id, {\n                take: this.ordersPerPage,\n                skip: (this.currentOrdersPage - 1) * this.ordersPerPage,\n            })\n            .single$.pipe(\n                map(data => data.customer),\n                filter(notNullOrUndefined),\n            )\n            .subscribe(result => this.orderListUpdates$.next(result));\n    }\n}\n","import { merge as mergeStatic } from '../observable/merge';\nexport function merge(...observables) {\n    return (source) => source.lift.call(mergeStatic(source, ...observables));\n}\n","<ng-template vdrDialogTitle>\n    <span *ngIf=\"group.id\">{{ 'customer.update-customer-group' | translate }}</span>\n    <span *ngIf=\"!group.id\">{{ 'customer.create-customer-group' | translate }}</span>\n</ng-template>\n<form [formGroup]=\"form\">\n    <vdr-form-field [label]=\"'common.name' | translate\" for=\"name\">\n        <input\n            id=\"name\"\n            type=\"text\"\n            formControlName=\"name\"\n            [readonly]=\"!(['CreateCustomerGroup', 'UpdateCustomerGroup'] | hasPermission)\"\n        />\n    </vdr-form-field>\n    <section formGroupName=\"customFields\" *ngIf=\"customFields.length\">\n        <label>{{ 'common.custom-fields' | translate }}</label>\n        <vdr-tabbed-custom-fields\n            entityName=\"CustomerGroup\"\n            [customFields]=\"customFields\"\n            [customFieldsFormGroup]=\"form.get('customFields')\"\n        ></vdr-tabbed-custom-fields>\n    </section>\n</form>\n<ng-template vdrDialogButtons>\n    <button type=\"button\" class=\"btn\" (click)=\"cancel()\">{{ 'common.cancel' | translate }}</button>\n    <button type=\"submit\" (click)=\"save()\" [disabled]=\"!form.valid\" class=\"btn btn-primary\">\n        <span *ngIf=\"group.id\">{{ 'customer.update-customer-group' | translate }}</span>\n        <span *ngIf=\"!group.id\">{{ 'customer.create-customer-group' | translate }}</span>\n    </button>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport {\n    CreateCustomerGroupInput,\n    CustomFieldConfig,\n    Dialog,\n    ServerConfigService,\n    UpdateCustomerGroupInput,\n} from '@vendure/admin-ui/core';\n\n@Component({\n    selector: 'vdr-customer-group-detail-dialog',\n    templateUrl: './customer-group-detail-dialog.component.html',\n    styleUrls: ['./customer-group-detail-dialog.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomerGroupDetailDialogComponent implements Dialog<CreateCustomerGroupInput>, OnInit {\n    group: { id?: string; name: string; customFields?: { [name: string]: any } };\n    resolveWith: (result?: CreateCustomerGroupInput) => void;\n    customFields: CustomFieldConfig[];\n    form: FormGroup;\n\n    constructor(private serverConfigService: ServerConfigService, private formBuilder: FormBuilder) {\n        this.customFields = this.serverConfigService.getCustomFieldsFor('CustomerGroup');\n    }\n\n    ngOnInit() {\n        this.form = this.formBuilder.group({\n            name: [this.group.name, Validators.required],\n            customFields: this.formBuilder.group(\n                this.customFields.reduce((hash, field) => ({ ...hash, [field.name]: '' }), {}),\n            ),\n        });\n        if (this.customFields.length) {\n            const customFieldsGroup = this.form.get('customFields') as FormGroup;\n\n            for (const fieldDef of this.customFields) {\n                const key = fieldDef.name;\n                const value = this.group.customFields?.[key];\n                const control = customFieldsGroup.get(key);\n                if (control) {\n                    control.patchValue(value);\n                }\n            }\n        }\n    }\n\n    cancel() {\n        this.resolveWith();\n    }\n\n    save() {\n        this.resolveWith(this.form.value);\n    }\n}\n","<vdr-action-bar>\n    <vdr-ab-left>\n        <input\n            type=\"text\"\n            name=\"emailSearchTerm\"\n            [formControl]=\"searchTerm\"\n            [placeholder]=\"'customer.search-by-group-name' | translate\"\n            class=\"search-input\"\n        />\n    </vdr-ab-left>\n    <vdr-ab-right>\n        <vdr-action-bar-items locationId=\"customer-group-list\"></vdr-action-bar-items>\n        <button class=\"btn btn-primary\" *vdrIfPermissions=\"'CreateCustomerGroup'\" (click)=\"create()\">\n            <clr-icon shape=\"plus\"></clr-icon>\n            {{ 'customer.create-new-customer-group' | translate }}\n        </button>\n    </vdr-ab-right>\n</vdr-action-bar>\n<div class=\"group-wrapper\">\n    <div class=\"group-list\">\n        <vdr-data-table\n            [class.expanded]=\"activeGroup$ | async\"\n            [items]=\"items$ | async\"\n            [itemsPerPage]=\"itemsPerPage$ | async\"\n            [totalItems]=\"totalItems$ | async\"\n            [currentPage]=\"currentPage$ | async\"\n            (pageChange)=\"setPageNumber($event)\"\n            (itemsPerPageChange)=\"setItemsPerPage($event)\"\n        >\n            <ng-template let-group=\"item\">\n                <td class=\"left align-middle\" [class.active]=\"group.id === activeGroupId\">\n                    <vdr-entity-info [entity]=\"group\"></vdr-entity-info>\n                </td>\n                <td class=\"left align-middle\" [class.active]=\"group.id === activeGroupId\">\n                    <vdr-chip [colorFrom]=\"group.id\">{{ group.name }}</vdr-chip>\n                </td>\n                <td class=\"left align-middle\" [class.active]=\"group.id === activeGroupId\">\n                    <a\n                        class=\"btn btn-link btn-sm\"\n                        [routerLink]=\"['./', { contents: group.id }]\"\n                        queryParamsHandling=\"preserve\"\n                    >\n                        <clr-icon shape=\"view-list\"></clr-icon>\n                        {{ 'customer.view-group-members' | translate }}\n                    </a>\n                </td>\n                <td class=\"right align-middle\" [class.active]=\"group.id === activeGroupId\">\n                    <button class=\"btn btn-link btn-sm\" (click)=\"update(group)\">\n                        <clr-icon shape=\"edit\"></clr-icon>\n                        {{ 'common.edit' | translate }}\n                    </button>\n                </td>\n                <td [class.active]=\"group.id === activeGroupId\" class=\"align-middle\">\n                    <vdr-dropdown>\n                        <button type=\"button\" class=\"btn btn-link btn-sm\" vdrDropdownTrigger>\n                            {{ 'common.actions' | translate }}\n                            <clr-icon shape=\"caret down\"></clr-icon>\n                        </button>\n                        <vdr-dropdown-menu vdrPosition=\"bottom-right\">\n                            <button\n                                class=\"button\"\n                                vdrDropdownItem\n                                (click)=\"delete(group.id)\"\n                                [disabled]=\"!('DeleteCustomerGroup' | hasPermission)\"\n                            >\n                                <clr-icon shape=\"trash\" class=\"is-danger\"></clr-icon>\n                                {{ 'common.delete' | translate }}\n                            </button>\n                        </vdr-dropdown-menu>\n                    </vdr-dropdown>\n                </td>\n            </ng-template>\n        </vdr-data-table>\n    </div>\n    <ng-template #emptyPlaceholder>\n        <vdr-empty-placeholder></vdr-empty-placeholder>\n    </ng-template>\n    <div class=\"group-members\" [class.expanded]=\"activeGroup$ | async\">\n        <ng-container *ngIf=\"activeGroup$ | async as activeGroup\">\n            <div class=\"flex\">\n                <div class=\"header-title-row\">{{ activeGroup.name }} ({{ membersTotal$ | async }})</div>\n                <div class=\"flex-spacer\"></div>\n                <button type=\"button\" class=\"close-button\" (click)=\"closeMembers()\">\n                    <clr-icon shape=\"close\"></clr-icon>\n                </button>\n            </div>\n            <div class=\"controls\">\n                <vdr-dropdown>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-secondary btn-sm\"\n                        vdrDropdownTrigger\n                        [disabled]=\"selectedCustomerIds.length === 0\"\n                    >\n                        {{ 'common.with-selected' | translate: { count: selectedCustomerIds.length } }}\n                        <clr-icon shape=\"caret down\"></clr-icon>\n                    </button>\n                    <vdr-dropdown-menu vdrPosition=\"bottom-right\">\n                        <button\n                            type=\"button\"\n                            class=\"delete-button\"\n                            (click)=\"removeFromGroup(activeGroup, selectedCustomerIds)\"\n                            vdrDropdownItem\n                            [disabled]=\"!('UpdateCustomerGroup' | hasPermission)\"\n                        >\n                            <clr-icon shape=\"trash\" class=\"is-danger\"></clr-icon>\n                            {{ 'customer.remove-from-group' | translate }}\n                        </button>\n                    </vdr-dropdown-menu>\n                </vdr-dropdown>\n                <button class=\"btn btn-secondary btn-sm\" (click)=\"addToGroup(activeGroup)\">\n                    {{ 'customer.add-customers-to-group' | translate: { groupName: activeGroup.name } }}\n                </button>\n            </div>\n            <vdr-customer-group-member-list\n                [members]=\"members$ | async\"\n                [route]=\"route\"\n                [totalItems]=\"membersTotal$ | async\"\n                [selectedMemberIds]=\"selectedCustomerIds\"\n                (selectionChange)=\"selectedCustomerIds = $event\"\n                (fetchParamsChange)=\"fetchGroupMembers$.next($event)\"\n            ></vdr-customer-group-member-list>\n        </ng-container>\n    </div>\n</div>\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\nimport {\n    BaseListComponent,\n    DataService,\n    DeletionResult,\n    GetCustomerGroups,\n    GetCustomerGroupsQuery,\n    GetCustomerGroupWithCustomers,\n    GetZones,\n    LogicalOperator,\n    ModalService,\n    NotificationService,\n} from '@vendure/admin-ui/core';\nimport { SortOrder } from '@vendure/common/lib/generated-shop-types';\nimport { BehaviorSubject, combineLatest, EMPTY, Observable, of } from 'rxjs';\nimport {\n    debounceTime,\n    distinctUntilChanged,\n    filter,\n    map,\n    mapTo,\n    switchMap,\n    takeUntil,\n    tap,\n} from 'rxjs/operators';\n\nimport { AddCustomerToGroupDialogComponent } from '../add-customer-to-group-dialog/add-customer-to-group-dialog.component';\nimport { CustomerGroupDetailDialogComponent } from '../customer-group-detail-dialog/customer-group-detail-dialog.component';\nimport { CustomerGroupMemberFetchParams } from '../customer-group-member-list/customer-group-member-list.component';\n\n@Component({\n    selector: 'vdr-customer-group-list',\n    templateUrl: './customer-group-list.component.html',\n    styleUrls: ['./customer-group-list.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CustomerGroupListComponent\n    extends BaseListComponent<\n        GetCustomerGroupsQuery,\n        GetCustomerGroupsQuery['customerGroups']['items'][number]\n    >\n    implements OnInit\n{\n    searchTerm = new FormControl('');\n    activeGroup$: Observable<GetCustomerGroups.Items | undefined>;\n    activeGroupId: string | undefined;\n    listIsEmpty$: Observable<boolean>;\n    members$: Observable<GetCustomerGroupWithCustomers.Items[]>;\n    membersTotal$: Observable<number>;\n    selectedCustomerIds: string[] = [];\n    fetchGroupMembers$ = new BehaviorSubject<CustomerGroupMemberFetchParams>({\n        skip: 0,\n        take: 0,\n        filterTerm: '',\n    });\n    private refreshActiveGroupMembers$ = new BehaviorSubject<void>(undefined);\n\n    constructor(\n        private dataService: DataService,\n        private notificationService: NotificationService,\n        private modalService: ModalService,\n        public route: ActivatedRoute,\n        protected router: Router,\n    ) {\n        super(router, route);\n        super.setQueryFn(\n            (...args: any[]) =>\n                this.dataService.customer.getCustomerGroupList(...args).refetchOnChannelChange(),\n            data => data.customerGroups,\n            (skip, take) => ({\n                options: {\n                    skip,\n                    take,\n                    filter: {\n                        name: { contains: this.searchTerm.value },\n                    },\n                },\n            }),\n        );\n    }\n\n    ngOnInit(): void {\n        super.ngOnInit();\n        this.searchTerm.valueChanges\n            .pipe(\n                filter(value => 2 < value.length || value.length === 0),\n                debounceTime(250),\n                takeUntil(this.destroy$),\n            )\n            .subscribe(() => this.refresh());\n        const activeGroupId$ = this.route.paramMap.pipe(\n            map(pm => pm.get('contents')),\n            distinctUntilChanged(),\n            tap(() => (this.selectedCustomerIds = [])),\n        );\n        this.listIsEmpty$ = this.items$.pipe(map(groups => groups.length === 0));\n        this.activeGroup$ = combineLatest(this.items$, activeGroupId$).pipe(\n            map(([groups, activeGroupId]) => {\n                if (activeGroupId) {\n                    return groups.find(g => g.id === activeGroupId);\n                }\n            }),\n            tap(val => (this.activeGroupId = val?.id)),\n        );\n        const membersResult$ = combineLatest(\n            this.activeGroup$,\n            this.fetchGroupMembers$,\n            this.refreshActiveGroupMembers$,\n        ).pipe(\n            switchMap(([activeGroup, { skip, take, filterTerm }]) => {\n                if (activeGroup) {\n                    return this.dataService.customer\n                        .getCustomerGroupWithCustomers(activeGroup.id, {\n                            skip,\n                            take,\n                            filter: {\n                                emailAddress: {\n                                    contains: filterTerm,\n                                },\n                            },\n                        })\n                        .mapStream(res => res.customerGroup?.customers);\n                } else {\n                    return of(undefined);\n                }\n            }),\n        );\n\n        this.members$ = membersResult$.pipe(map(res => res?.items ?? []));\n        this.membersTotal$ = membersResult$.pipe(map(res => res?.totalItems ?? 0));\n    }\n\n    create() {\n        this.modalService\n            .fromComponent(CustomerGroupDetailDialogComponent, { locals: { group: { name: '' } } })\n            .pipe(\n                switchMap(result =>\n                    result\n                        ? this.dataService.customer.createCustomerGroup({ ...result, customerIds: [] })\n                        : EMPTY,\n                ),\n            )\n            .subscribe(\n                () => {\n                    this.refresh();\n                    this.notificationService.success(_('common.notify-create-success'), {\n                        entity: 'CustomerGroup',\n                    });\n                },\n                err => {\n                    this.notificationService.error(_('common.notify-create-error'), {\n                        entity: 'CustomerGroup',\n                    });\n                },\n            );\n    }\n\n    delete(groupId: string) {\n        this.modalService\n            .dialog({\n                title: _('customer.confirm-delete-customer-group'),\n                buttons: [\n                    { type: 'secondary', label: _('common.cancel') },\n                    { type: 'danger', label: _('common.delete'), returnValue: true },\n                ],\n            })\n            .pipe(\n                switchMap(response =>\n                    response ? this.dataService.customer.deleteCustomerGroup(groupId) : EMPTY,\n                ),\n\n                switchMap(result => {\n                    if (result.deleteCustomerGroup.result === DeletionResult.DELETED) {\n                        // refresh list\n                        return this.dataService.customer\n                            .getCustomerGroupList()\n                            .mapSingle(() => ({ errorMessage: false }));\n                    } else {\n                        return of({ errorMessage: result.deleteCustomerGroup.message });\n                    }\n                }),\n            )\n            .subscribe(\n                result => {\n                    if (typeof result.errorMessage === 'string') {\n                        this.notificationService.error(result.errorMessage);\n                    } else {\n                        this.refresh();\n                        this.notificationService.success(_('common.notify-delete-success'), {\n                            entity: 'CustomerGroup',\n                        });\n                    }\n                },\n                err => {\n                    this.notificationService.error(_('common.notify-delete-error'), {\n                        entity: 'CustomerGroup',\n                    });\n                },\n            );\n    }\n\n    update(group: GetCustomerGroups.Items) {\n        this.modalService\n            .fromComponent(CustomerGroupDetailDialogComponent, { locals: { group } })\n            .pipe(\n                switchMap(result =>\n                    result\n                        ? this.dataService.customer.updateCustomerGroup({ id: group.id, ...result })\n                        : EMPTY,\n                ),\n            )\n            .subscribe(\n                () => {\n                    this.refresh();\n                    this.notificationService.success(_('common.notify-update-success'), {\n                        entity: 'CustomerGroup',\n                    });\n                },\n                err => {\n                    this.notificationService.error(_('common.notify-update-error'), {\n                        entity: 'CustomerGroup',\n                    });\n                },\n            );\n    }\n\n    closeMembers() {\n        const params = { ...this.route.snapshot.params };\n        delete params.contents;\n        this.router.navigate(['./', params], { relativeTo: this.route, queryParamsHandling: 'preserve' });\n    }\n\n    addToGroup(group: GetCustomerGroupWithCustomers.CustomerGroup) {\n        this.modalService\n            .fromComponent(AddCustomerToGroupDialogComponent, {\n                locals: {\n                    group,\n                    route: this.route,\n                },\n                size: 'md',\n                verticalAlign: 'top',\n            })\n            .pipe(\n                switchMap(customerIds =>\n                    customerIds\n                        ? this.dataService.customer\n                              .addCustomersToGroup(group.id, customerIds)\n                              .pipe(mapTo(customerIds))\n                        : EMPTY,\n                ),\n            )\n            .subscribe({\n                next: result => {\n                    this.notificationService.success(_(`customer.add-customers-to-group-success`), {\n                        customerCount: result.length,\n                        groupName: group.name,\n                    });\n                    this.refreshActiveGroupMembers$.next();\n                    this.selectedCustomerIds = [];\n                },\n            });\n    }\n\n    removeFromGroup(group: GetZones.Zones, customerIds: string[]) {\n        this.dataService.customer.removeCustomersFromGroup(group.id, customerIds).subscribe({\n            complete: () => {\n                this.notificationService.success(_(`customer.remove-customers-from-group-success`), {\n                    customerCount: customerIds.length,\n                    groupName: group.name,\n                });\n                this.refreshActiveGroupMembers$.next();\n                this.selectedCustomerIds = [];\n            },\n        });\n    }\n}\n","<vdr-action-bar>\n    <vdr-ab-left>\n        <input\n            type=\"text\"\n            name=\"emailSearchTerm\"\n            [formControl]=\"searchTerm\"\n            [placeholder]=\"'customer.search-customers-by-email-last-name-postal-code' | translate\"\n            class=\"search-input\"\n        />\n    </vdr-ab-left>\n    <vdr-ab-right>\n        <vdr-action-bar-items locationId=\"customer-list\"></vdr-action-bar-items>\n        <a class=\"btn btn-primary\" [routerLink]=\"['./create']\" *vdrIfPermissions=\"'CreateCustomer'\">\n            <clr-icon shape=\"plus\"></clr-icon>\n            {{ 'customer.create-new-customer' | translate }}\n        </a>\n    </vdr-ab-right>\n</vdr-action-bar>\n\n<vdr-data-table\n    [items]=\"items$ | async\"\n    [itemsPerPage]=\"itemsPerPage$ | async\"\n    [totalItems]=\"totalItems$ | async\"\n    [currentPage]=\"currentPage$ | async\"\n    (pageChange)=\"setPageNumber($event)\"\n    (itemsPerPageChange)=\"setItemsPerPage($event)\"\n>\n    <vdr-dt-column [expand]=\"true\">{{ 'customer.name' | translate }}</vdr-dt-column>\n    <vdr-dt-column [expand]=\"true\">{{ 'customer.email-address' | translate }}</vdr-dt-column>\n    <vdr-dt-column>{{ 'customer.customer-type' | translate }}</vdr-dt-column>\n    <vdr-dt-column></vdr-dt-column>\n    <vdr-dt-column></vdr-dt-column>\n    <ng-template let-customer=\"item\">\n        <td class=\"left align-middle\">\n            {{ customer.title }} {{ customer.firstName }} {{ customer.lastName }}\n        </td>\n        <td class=\"left align-middle\">{{ customer.emailAddress }}</td>\n        <td class=\"left align-middle\">\n            <vdr-customer-status-label [customer]=\"customer\"></vdr-customer-status-label>\n        </td>\n        <td class=\"right align-middle\">\n            <vdr-table-row-action\n                iconShape=\"edit\"\n                [label]=\"'common.edit' | translate\"\n                [linkTo]=\"['./', customer.id]\"\n            ></vdr-table-row-action>\n        </td>\n        <td>\n            <vdr-dropdown>\n                <button type=\"button\" class=\"btn btn-link btn-sm\" vdrDropdownTrigger>\n                    {{ 'common.actions' | translate }}\n                    <clr-icon shape=\"caret down\"></clr-icon>\n                </button>\n                <vdr-dropdown-menu vdrPosition=\"bottom-right\">\n                    <button\n                        type=\"button\"\n                        class=\"delete-button\"\n                        (click)=\"deleteCustomer(customer)\"\n                        [disabled]=\"!('DeleteCustomer' | hasPermission)\"\n                        vdrDropdownItem\n                    >\n                        <clr-icon shape=\"trash\" class=\"is-danger\"></clr-icon>\n                        {{ 'common.delete' | translate }}\n                    </button>\n                </vdr-dropdown-menu>\n            </vdr-dropdown>\n        </td>\n    </ng-template>\n</vdr-data-table>\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\nimport {\n    BaseListComponent,\n    DataService,\n    GetCustomerList,\n    LogicalOperator,\n    ModalService,\n    NotificationService,\n} from '@vendure/admin-ui/core';\nimport { SortOrder } from '@vendure/common/lib/generated-shop-types';\nimport { EMPTY } from 'rxjs';\nimport { debounceTime, filter, switchMap, takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'vdr-customer-list',\n    templateUrl: './customer-list.component.html',\n    styleUrls: ['./customer-list.component.scss'],\n})\nexport class CustomerListComponent\n    extends BaseListComponent<GetCustomerList.Query, GetCustomerList.Items>\n    implements OnInit\n{\n    searchTerm = new FormControl('');\n    constructor(\n        private dataService: DataService,\n        router: Router,\n        route: ActivatedRoute,\n        private modalService: ModalService,\n        private notificationService: NotificationService,\n    ) {\n        super(router, route);\n        super.setQueryFn(\n            (...args: any[]) => this.dataService.customer.getCustomerList(...args).refetchOnChannelChange(),\n            data => data.customers,\n            (skip, take) => ({\n                options: {\n                    skip,\n                    take,\n                    filter: {\n                        emailAddress: {\n                            contains: this.searchTerm.value,\n                        },\n                        lastName: {\n                            contains: this.searchTerm.value,\n                        },\n                        postalCode: {\n                            contains: this.searchTerm.value,\n                        },\n                    },\n                    filterOperator: LogicalOperator.OR,\n                    sort: {\n                        createdAt: SortOrder.DESC,\n                    },\n                },\n            }),\n        );\n    }\n\n    ngOnInit() {\n        super.ngOnInit();\n        this.searchTerm.valueChanges\n            .pipe(\n                filter(value => 2 < value.length || value.length === 0),\n                debounceTime(250),\n                takeUntil(this.destroy$),\n            )\n            .subscribe(() => this.refresh());\n    }\n\n    deleteCustomer(customer: GetCustomerList.Items) {\n        return this.modalService\n            .dialog({\n                title: _('catalog.confirm-delete-customer'),\n                body: `${customer.firstName} ${customer.lastName}`,\n                buttons: [\n                    { type: 'secondary', label: _('common.cancel') },\n                    { type: 'danger', label: _('common.delete'), returnValue: true },\n                ],\n            })\n            .pipe(switchMap(res => (res ? this.dataService.customer.deleteCustomer(customer.id) : EMPTY)))\n            .subscribe(\n                () => {\n                    this.notificationService.success(_('common.notify-delete-success'), {\n                        entity: 'Customer',\n                    });\n                    this.refresh();\n                },\n                err => {\n                    this.notificationService.error(_('common.notify-delete-error'), {\n                        entity: 'Customer',\n                    });\n                },\n            );\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BaseEntityResolver } from '@vendure/admin-ui/core';\nimport { Customer } from '@vendure/admin-ui/core';\nimport { DataService } from '@vendure/admin-ui/core';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CustomerResolver extends BaseEntityResolver<Customer.Fragment> {\n    constructor(router: Router, dataService: DataService) {\n        super(\n            router,\n            {\n                __typename: 'Customer',\n                id: '',\n                createdAt: '',\n                updatedAt: '',\n                title: '',\n                firstName: '',\n                lastName: '',\n                emailAddress: '',\n                phoneNumber: '',\n                addresses: null,\n                user: null,\n            },\n            id => dataService.customer.getCustomer(id).mapStream(data => data.customer),\n        );\n    }\n}\n","import { Route } from '@angular/router';\nimport { marker as _ } from '@biesbjerg/ngx-translate-extract-marker';\nimport {\n    CanDeactivateDetailGuard,\n    createResolveData,\n    Customer,\n    detailBreadcrumb,\n} from '@vendure/admin-ui/core';\n\nimport { CustomerDetailComponent } from './components/customer-detail/customer-detail.component';\nimport { CustomerGroupListComponent } from './components/customer-group-list/customer-group-list.component';\nimport { CustomerListComponent } from './components/customer-list/customer-list.component';\nimport { CustomerResolver } from './providers/routing/customer-resolver';\n\nexport const customerRoutes: Route[] = [\n    {\n        path: 'customers',\n        component: CustomerListComponent,\n        pathMatch: '',\n        data: {\n            breadcrumb: _('breadcrumb.customers'),\n        },\n    },\n    {\n        path: 'customers/:id',\n        component: CustomerDetailComponent,\n        resolve: createResolveData(CustomerResolver),\n        canDeactivate: [CanDeactivateDetailGuard],\n        data: {\n            breadcrumb: customerBreadcrumb,\n        },\n    },\n    {\n        path: 'groups',\n        component: CustomerGroupListComponent,\n        data: {\n            breadcrumb: _('breadcrumb.customer-groups'),\n        },\n    },\n];\n\nexport function customerBreadcrumb(data: any, params: any) {\n    return detailBreadcrumb<Customer.Fragment>({\n        entity: data.entity,\n        id: params.id,\n        breadcrumbKey: 'breadcrumb.customers',\n        getName: (customer) => `${customer.firstName} ${customer.lastName}`,\n        route: 'customers',\n    });\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '@vendure/admin-ui/core';\n\nimport { AddCustomerToGroupDialogComponent } from './components/add-customer-to-group-dialog/add-customer-to-group-dialog.component';\nimport { AddressCardComponent } from './components/address-card/address-card.component';\nimport { AddressDetailDialogComponent } from './components/address-detail-dialog/address-detail-dialog.component';\nimport { CustomerDetailComponent } from './components/customer-detail/customer-detail.component';\nimport { CustomerGroupDetailDialogComponent } from './components/customer-group-detail-dialog/customer-group-detail-dialog.component';\nimport { CustomerGroupListComponent } from './components/customer-group-list/customer-group-list.component';\nimport { CustomerGroupMemberListComponent } from './components/customer-group-member-list/customer-group-member-list.component';\nimport { CustomerHistoryComponent } from './components/customer-history/customer-history.component';\nimport { CustomerListComponent } from './components/customer-list/customer-list.component';\nimport { CustomerStatusLabelComponent } from './components/customer-status-label/customer-status-label.component';\nimport { SelectCustomerGroupDialogComponent } from './components/select-customer-group-dialog/select-customer-group-dialog.component';\nimport { customerRoutes } from './customer.routes';\n\n@NgModule({\n    imports: [SharedModule, RouterModule.forChild(customerRoutes)],\n    declarations: [\n        CustomerListComponent,\n        CustomerDetailComponent,\n        CustomerStatusLabelComponent,\n        AddressCardComponent,\n        CustomerGroupListComponent,\n        CustomerGroupDetailDialogComponent,\n        AddCustomerToGroupDialogComponent,\n        CustomerGroupMemberListComponent,\n        SelectCustomerGroupDialogComponent,\n        CustomerHistoryComponent,\n        AddressDetailDialogComponent,\n    ],\n    exports: [AddressCardComponent],\n})\nexport class CustomerModule {}\n"]}